--// JoshhubScript Control Panel (Fire Theme + Small Frame + Spectate GUI + Webhook Notifier)
--// Owner: JoshroxasScript

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local HttpService = game:GetService("HttpService")

--// SET YOUR WEBHOOK HERE üëá
local WebhookURL = "https://discord.com/api/webhooks/1403030548028325949/HJdaysOWUwNeTR7bCdy4DC9Uz_Vp7tzAMsMK1r_p_O1LN8ASgy2FLW-O_-DC6I0kE1K_"

--// Function: Send to Discord
local function sendWebhook(content)
    if not WebhookURL or WebhookURL == "" then return end
    local data = {
        ["username"] = "üî• Joshhub Notifier",
        ["avatar_url"] = "https://i.imgur.com/3GKwK6X.png",
        ["content"] = content
    }

    local success, err = pcall(function()
        request({
            Url = WebhookURL,
            Method = "POST",
            Headers = {["Content-Type"] = "application/json"},
            Body = HttpService:JSONEncode(data)
        })
    end)

    if not success then
        warn("‚ùå Webhook Error:", err)
    end
end

--// AUTO ACCEPT GIFTS
local acceptEvent = ReplicatedStorage:WaitForChild("GameEvents"):WaitForChild("AcceptPetGift")
local AcceptedGifts = {}
getgenv().AutoAccept = false

for _, remote in ipairs(ReplicatedStorage:GetDescendants()) do
    if remote:IsA("RemoteEvent") and string.lower(remote.Name):find("gift") then
        remote.OnClientEvent:Connect(function(giftId, petInfo, sender)
            if getgenv().AutoAccept and not AcceptedGifts[giftId] then
                AcceptedGifts[giftId] = true
                task.defer(function()
                    acceptEvent:FireServer(true, giftId)
                    warn("üî• Auto Accepted gift from:", sender, "(GiftID:", giftId, ")")

                    -- clear GUI ng mga gift popups
                    local gui = LocalPlayer:WaitForChild("PlayerGui")
                    for _, v in pairs(gui:GetDescendants()) do
                        if (v:IsA("Frame") or v:IsA("TextLabel") or v:IsA("ImageLabel")) and tostring(v.Name):lower():find("gift") then
                            v:Destroy()
                        end
                    end

                    -- webhook notify
                    local msg = string.format("üéÅ **Auto Accepted Gift!**\nüë§ From: `%s`\nüÜî GiftID: `%s`\nüìå Receiver: `%s`", tostring(sender), tostring(giftId), LocalPlayer.Name)
                    sendWebhook(msg)
                end)
            end
        end)
    end
end

--// TELEPORT TO PLAYER
local function teleportToPlayer(target)
    if target.Character and target.Character:FindFirstChild("HumanoidRootPart") and
       LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame
        sendWebhook(string.format("üåÄ **Teleport Used**\nüìå %s teleported to %s", LocalPlayer.Name, target.Name))
    end
end

--// SPECTATE PLAYER
local function spectatePlayer(plr)
    if plr.Character and plr.Character:FindFirstChildOfClass("Humanoid") then
        workspace.CurrentCamera.CameraSubject = plr.Character:FindFirstChildOfClass("Humanoid")
        warn("üì∫ Now spectating:", plr.Name)
        sendWebhook(string.format("üì∫ **Spectate Started**\nüë§ %s is now spectating %s", LocalPlayer.Name, plr.Name))
    end
end

--// STOP SPECTATING
local function stopSpectating()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChildOfClass("Humanoid") then
        workspace.CurrentCamera.CameraSubject = LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
        warn("‚õî Stopped spectating, back to self.")
        sendWebhook(string.format("‚õî **Spectate Stopped**\nüë§ Back to %s", LocalPlayer.Name))
    end
end

--// LEAVE GAME
local function leaveGame()
    sendWebhook(string.format("‚ùå **Player Left Using Script**\nüë§ %s triggered leave button", LocalPlayer.Name))
    LocalPlayer:Kick("GAGO CONGRATS KUNG NAKANAKAW KAü§£")
end
