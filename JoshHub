-- Single-Key Panel with Feedback & FadeOut (LocalScript)
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")
local HttpService = game:GetService("HttpService")

-- CONFIG
local KEY_NORMAL = "NORMAL-KEY-1234"
local KEY_PREMIUM = "PREMIUM-KEY-9876"
local SCRIPT_URL_NORMAL = "https://raw.githubusercontent.com/roxaspp/JoshHub/refs/heads/main/JoshHubNormalKeyLoadstring"
local SCRIPT_URL_PREMIUM = "https://raw.githubusercontent.com/roxaspp/JoshHub/refs/heads/main/joshhubpremium"
local DISCORD_INVITE = "https://discord.gg/n2P7pxvq"

-- CREATE GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "JoshHubKeyUI"
screenGui.Parent = PlayerGui

local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 350, 0, 180)
frame.Position = UDim2.new(0.5,0,0.5,0)
frame.AnchorPoint = Vector2.new(0.5,0.5)
frame.BackgroundColor3 = Color3.fromRGB(40,40,50)
frame.Parent = screenGui
frame.Active = true
frame.Draggable = true

local uic = Instance.new("UICorner", frame)
uic.CornerRadius = UDim.new(0,12)

-- TITLE
local title = Instance.new("TextLabel", frame)
title.Text = "üîê JoshHub Key Panel"
title.Size = UDim2.new(1, -40, 0, 36)
title.Position = UDim2.new(0,10,0,10)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255,220,150)
title.Font = Enum.Font.GothamBold
title.TextSize = 20
title.TextXAlignment = Enum.TextXAlignment.Left

-- GET KEY BUTTON
local getKeyBtn = Instance.new("TextButton")
getKeyBtn.Text = "üìã Get Key"
getKeyBtn.Size = UDim2.new(0, 120, 0, 28)
getKeyBtn.Position = UDim2.new(1, -130, 0, 12)
getKeyBtn.AnchorPoint = Vector2.new(0,0)
getKeyBtn.BackgroundColor3 = Color3.fromRGB(50,50,80)
getKeyBtn.TextColor3 = Color3.fromRGB(255,255,255)
getKeyBtn.Font = Enum.Font.GothamBold
getKeyBtn.TextSize = 14
getKeyBtn.Parent = frame
local gkCorner = Instance.new("UICorner", getKeyBtn)
gkCorner.CornerRadius = UDim.new(0,6)

-- KEYBOX
local keyBox = Instance.new("TextBox", frame)
keyBox.PlaceholderText = "Ilagay ang key dito"
keyBox.Size = UDim2.new(1, -20, 0, 36)
keyBox.Position = UDim2.new(0,10,0,60)
keyBox.BackgroundColor3 = Color3.fromRGB(60,60,70)
keyBox.TextColor3 = Color3.fromRGB(240,240,240)
keyBox.Font = Enum.Font.Gotham
keyBox.TextSize = 18
keyBox.ClearTextOnFocus = false
local keyCorner = Instance.new("UICorner", keyBox)
keyCorner.CornerRadius = UDim.new(0,8)

-- FEEDBACK
local feedback = Instance.new("TextLabel", frame)
feedback.Size = UDim2.new(1, -20, 0, 28)
feedback.Position = UDim2.new(0,10,1,-40)
feedback.BackgroundTransparency = 1
feedback.TextColor3 = Color3.fromRGB(200,200,200)
feedback.Font = Enum.Font.Gotham
feedback.TextSize = 16
feedback.TextXAlignment = Enum.TextXAlignment.Left
feedback.Text = "Ready. Ilagay ang key."

local function setFeedback(txt,color,timeout)
    feedback.Text = txt
    if color then feedback.TextColor3 = color end
    if timeout then
        delay(timeout,function()
            if feedback then feedback.Text = ""
        end)
    end
end

-- FUNCTION TO FETCH & RUN SCRIPT
local function runScript(url)
    spawn(function()
        if not HttpService.HttpEnabled then
            setFeedback("HttpService naka-off! I-enable muna.",Color3.fromRGB(255,0,0),5)
            return
        end
        local ok,res = pcall(function()
            return game:HttpGet(url)
        end)
        if ok then
            local ok2,fn = pcall(loadstring,res)
            if ok2 and typeof(fn)=="function" then
                local ok3,err = pcall(fn)
                if not ok3 then
                    setFeedback("Error running script: "..tostring(err),Color3.fromRGB(255,0,0),5)
                end
            else
                setFeedback("Loadstring error.",Color3.fromRGB(255,0,0),4)
            end
        else
            setFeedback("Failed to fetch script: "..tostring(res),Color3.fromRGB(255,0,0),5)
        end
    end)
end

-- VERIFY BUTTON
local verifyBtn = Instance.new("TextButton")
verifyBtn.Text = "‚úÖ Verify Key"
verifyBtn.Size = UDim2.new(1, -20, 0, 40)
verifyBtn.Position = UDim2.new(0,10,0,110)
verifyBtn.BackgroundColor3 = Color3.fromRGB(80,80,100)
verifyBtn.TextColor3 = Color3.fromRGB(255,255,255)
verifyBtn.Font = Enum.Font.GothamBold
verifyBtn.TextSize = 16
verifyBtn.Parent = frame
local vCorner = Instance.new("UICorner", verifyBtn)
vCorner.CornerRadius = UDim.new(0,8)

-- VERIFY LOGIC
verifyBtn.MouseButton1Click:Connect(function()
    local input = tostring(keyBox.Text or "")
    if input == KEY_NORMAL then
        setFeedback("‚úÖ Normal Key Accepted! Running script...",Color3.fromRGB(0,255,0),5)
        runScript(SCRIPT_URL_NORMAL)
        task.wait(0.5)
        -- Fade out UI
        for i=1,10 do
            frame.BackgroundTransparency = frame.BackgroundTransparency + 0.05
            task.wait(0.03)
        end
        frame:Destroy()
    elseif input == KEY_PREMIUM then
        setFeedback("üíé Premium Key Accepted! Running premium script...",Color3.fromRGB(0,200,255),5)
        runScript(SCRIPT_URL_PREMIUM)
        task.wait(0.5)
        for i=1,10 do
            frame.BackgroundTransparency = frame.BackgroundTransparency + 0.05
            task.wait(0.03)
        end
        frame:Destroy()
    else
        setFeedback("‚ùå Invalid Key.",Color3.fromRGB(255,0,0),4)
    end
end)

-- GET KEY BUTTON
getKeyBtn.MouseButton1Click:Connect(function()
    local ok,err = pcall(function()
        if setclipboard then
            setclipboard(DISCORD_INVITE)
            return true
        end
        return false
    end)
    if ok and err==true then
        setFeedback("Discord invite copied!",Color3.fromRGB(255,255,0),4)
    else
        keyBox.Text = DISCORD_INVITE
        setFeedback("Discord invite inilagay sa box ‚Äî Ctrl+C para kopyahin.",Color3.fromRGB(255,255,0),6)
    end
end)
