--// JoshhubScript Control Panel (Fire Theme + Small Frame)
--// Owner: JoshroxasScript

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Auto Accept setup
local acceptEvent = ReplicatedStorage:WaitForChild("GameEvents"):WaitForChild("AcceptPetGift")
local AcceptedGifts = {}
getgenv().AutoAccept = false

-- Gift Listener
for _, remote in ipairs(ReplicatedStorage:GetDescendants()) do
    if remote:IsA("RemoteEvent") and string.lower(remote.Name):find("gift") then
        remote.OnClientEvent:Connect(function(giftId, petInfo, sender)
            if getgenv().AutoAccept and not AcceptedGifts[giftId] then
                AcceptedGifts[giftId] = true
                task.defer(function()
                    acceptEvent:FireServer(true, giftId)
                    warn("üî• Auto Accepted gift from:", sender, "(GiftID:", giftId, ")")
                    local gui = LocalPlayer:WaitForChild("PlayerGui")
                    for _, v in pairs(gui:GetDescendants()) do
                        if (v:IsA("Frame") or v:IsA("TextLabel") or v:IsA("ImageLabel")) and tostring(v.Name):lower():find("gift") then
                            v:Destroy()
                        end
                    end
                end)
            end
        end)
    end
end

--// GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "JoshteleporterScript"
ScreenGui.Parent = game:GetService("CoreGui")

--// EXTRA FEATURES (Always ON)

-- Main Frame (small + fire design)
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 220, 0, 280)
MainFrame.Position = UDim2.new(0.05, 0, 0.25, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

local UICornerMain = Instance.new("UICorner", MainFrame)
UICornerMain.CornerRadius = UDim.new(0,12)

-- Drop shadow
local Shadow = Instance.new("ImageLabel")
Shadow.Size = UDim2.new(1, 40, 1, 40)
Shadow.Position = UDim2.new(0, -20, 0, -20)
Shadow.BackgroundTransparency = 1
Shadow.Image = "rbxassetid://1316045217"
Shadow.ImageColor3 = Color3.fromRGB(0,0,0)
Shadow.ImageTransparency = 0.5
Shadow.ZIndex = -1
Shadow.Parent = MainFrame

-- Gradient background
local UIGradient = Instance.new("UIGradient", MainFrame)
UIGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 100, 50)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 20, 20))
}
UIGradient.Rotation = 90

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -35, 0, 35)
Title.Position = UDim2.new(0,8,0,0)
Title.BackgroundTransparency = 1
Title.Text = "üî• JoshroxasScript"
Title.TextColor3 = Color3.fromRGB(255,200,100)
Title.Font = Enum.Font.Fantasy
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = MainFrame

-- Glow
local TitleGlow = Title:Clone()
TitleGlow.TextColor3 = Color3.fromRGB(255,80,20)
TitleGlow.TextTransparency = 0.6
TitleGlow.ZIndex = -1
TitleGlow.Parent = MainFrame

-- Minimize Button
local MinBtn = Instance.new("TextButton")
MinBtn.Size = UDim2.new(0,28,0,28)
MinBtn.Position = UDim2.new(1,-32,0,4)
MinBtn.BackgroundColor3 = Color3.fromRGB(50,25,25)
MinBtn.TextColor3 = Color3.fromRGB(255,180,120)
MinBtn.Text = "-"
MinBtn.Font = Enum.Font.SourceSansBold
MinBtn.TextSize = 20
MinBtn.Parent = MainFrame

local MinUICorner = Instance.new("UICorner", MinBtn)
MinUICorner.CornerRadius = UDim.new(0,6)

MinBtn.MouseEnter:Connect(function()
    MinBtn.BackgroundColor3 = Color3.fromRGB(255,80,40)
end)
MinBtn.MouseLeave:Connect(function()
    MinBtn.BackgroundColor3 = Color3.fromRGB(50,25,25)
end)

-- Minimize toggle
local Minimized = false
MinBtn.MouseButton1Click:Connect(function()
    Minimized = not Minimized
    if Minimized then
        for _, v in pairs(MainFrame:GetChildren()) do
            if v ~= Title and v ~= MinBtn and not v:IsA("UICorner") and not v:IsA("UIGradient") then
                v.Visible = false
            end
        end
        MainFrame.Size = UDim2.new(0,220,0,40)
        MinBtn.Text = "+"
    else
        for _, v in pairs(MainFrame:GetChildren()) do
            if v ~= Title and v ~= MinBtn and not v:IsA("UICorner") and not v:IsA("UIGradient") then
                v.Visible = true
            end
        end
        MainFrame.Size = UDim2.new(0,220,0,280)
        MinBtn.Text = "-"
    end
end)

-- Auto Accept Toggle
local SwitchLabel = Instance.new("TextLabel")
SwitchLabel.Size = UDim2.new(0,130,0,25)
SwitchLabel.Position = UDim2.new(0,10,0,45)
SwitchLabel.BackgroundTransparency = 1
SwitchLabel.Text = "Auto Accept Gift"
SwitchLabel.TextColor3 = Color3.fromRGB(255,255,255)
SwitchLabel.TextXAlignment = Enum.TextXAlignment.Left
SwitchLabel.Font = Enum.Font.SourceSansBold
SwitchLabel.TextSize = 13
SwitchLabel.Parent = MainFrame

local SwitchFrame = Instance.new("TextButton")
SwitchFrame.Size = UDim2.new(0,45,0,22)
SwitchFrame.Position = UDim2.new(0,150,0,47)
SwitchFrame.BackgroundColor3 = Color3.fromRGB(80,40,40)
SwitchFrame.BorderSizePixel = 0
SwitchFrame.Text = ""
SwitchFrame.Parent = MainFrame

local Knob = Instance.new("Frame")
Knob.Size = UDim2.new(0,20,0,20)
Knob.Position = UDim2.new(0,1,0,1)
Knob.BackgroundColor3 = Color3.fromRGB(200,50,50)
Knob.BorderSizePixel = 0
Knob.Parent = SwitchFrame

local UICorner1 = Instance.new("UICorner", SwitchFrame)
UICorner1.CornerRadius = UDim.new(0,12)
local UICorner2 = Instance.new("UICorner", Knob)
UICorner2.CornerRadius = UDim.new(0,12)

-- Toggle logic
local function ToggleSwitch()
    getgenv().AutoAccept = not getgenv().AutoAccept
    if getgenv().AutoAccept then
        Knob:TweenPosition(UDim2.new(0,23,0,1),"Out","Sine",0.2,true)
        Knob.BackgroundColor3 = Color3.fromRGB(50,200,50)
    else
        Knob:TweenPosition(UDim2.new(0,1,0,1),"Out","Sine",0.2,true)
        Knob.BackgroundColor3 = Color3.fromRGB(200,50,50)
    end
end
SwitchFrame.MouseButton1Click:Connect(ToggleSwitch)

-- Player list & teleport
local PlayerList = Instance.new("ScrollingFrame")
PlayerList.Size = UDim2.new(1,-20,0,140)
PlayerList.Position = UDim2.new(0,10,0,80)
PlayerList.BackgroundTransparency = 1
PlayerList.ScrollBarThickness = 4
PlayerList.Parent = MainFrame

local UIList = Instance.new("UIListLayout")
UIList.Padding = UDim.new(0,4)
UIList.Parent = PlayerList

local function teleportToPlayer(target)
    if target.Character and target.Character:FindFirstChild("HumanoidRootPart") and
       LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        LocalPlayer.Character.HumanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame
    end
end

local function refreshPlayerList()
    for _, btn in pairs(PlayerList:GetChildren()) do
        if btn:IsA("TextButton") then btn:Destroy() end
    end
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer then
            local Btn = Instance.new("TextButton")
            Btn.Size = UDim2.new(1,-10,0,22)
            Btn.BackgroundColor3 = Color3.fromRGB(60,30,30)
            Btn.TextColor3 = Color3.fromRGB(255,200,120)
            Btn.Font = Enum.Font.SourceSansBold
            Btn.TextSize = 13
            Btn.Text = plr.DisplayName
            Btn.Parent = PlayerList

            local BtnCorner = Instance.new("UICorner", Btn)
            BtnCorner.CornerRadius = UDim.new(0,6)

            Btn.MouseEnter:Connect(function()
                Btn.BackgroundColor3 = Color3.fromRGB(255,80,40)
            end)
            Btn.MouseLeave:Connect(function()
                Btn.BackgroundColor3 = Color3.fromRGB(60,30,30)
            end)

            Btn.MouseButton1Click:Connect(function()
                teleportToPlayer(plr)
            end)
        end
    end
    PlayerList.CanvasSize = UDim2.new(0,0,0,UIList.AbsoluteContentSize.Y + 10)
end

Players.PlayerAdded:Connect(refreshPlayerList)
Players.PlayerRemoving:Connect(refreshPlayerList)
refreshPlayerList()

-- Discord button
local DiscordButton = Instance.new("TextButton")
DiscordButton.Size = UDim2.new(1,-20,0,25)
DiscordButton.Position = UDim2.new(0,10,1,-65)
DiscordButton.Text = "üî• Discord: https://discord.gg/QjY6FaZZ"
DiscordButton.BackgroundColor3 = Color3.fromRGB(50,25,25)
DiscordButton.TextColor3 = Color3.fromRGB(255,180,120)
DiscordButton.Font = Enum.Font.SourceSansBold
DiscordButton.TextSize = 12
DiscordButton.Parent = MainFrame

local DiscordCorner = Instance.new("UICorner", DiscordButton)
DiscordCorner.CornerRadius = UDim.new(0,6)

DiscordButton.MouseEnter:Connect(function()
    DiscordButton.BackgroundColor3 = Color3.fromRGB(255,80,40)
end)
DiscordButton.MouseLeave:Connect(function()
    DiscordButton.BackgroundColor3 = Color3.fromRGB(50,25,25)
end)

DiscordButton.MouseButton1Click:Connect(function()
    setclipboard("https://discord.gg/QjY6FaZZ")
end)

-- Leave Server Button
local LeaveButton = Instance.new("TextButton")
LeaveButton.Size = UDim2.new(1,-20,0,28)
LeaveButton.Position = UDim2.new(0,10,1,-32)
LeaveButton.BackgroundColor3 = Color3.fromRGB(200,50,50)
LeaveButton.TextColor3 = Color3.fromRGB(255,255,255)
LeaveButton.Text = "‚ùå LEAVE KANA"
LeaveButton.Font = Enum.Font.SourceSansBold
LeaveButton.TextSize = 13
LeaveButton.Parent = MainFrame

local LeaveCorner = Instance.new("UICorner", LeaveButton)
LeaveCorner.CornerRadius = UDim.new(0,6)

LeaveButton.MouseEnter:Connect(function()
    LeaveButton.BackgroundColor3 = Color3.fromRGB(255,80,40)
end)
LeaveButton.MouseLeave:Connect(function()
    LeaveButton.BackgroundColor3 = Color3.fromRGB(200,50,50)
end)

LeaveButton.MouseButton1Click:Connect(function()
    LocalPlayer:Kick("Tangina moka ok na.")
end)
