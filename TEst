--// JoshhubScript Control Panel (Fire Theme + Small Frame)
--// Owner: JoshroxasScript

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")

-- Auto Accept setup
local acceptEvent = ReplicatedStorage:WaitForChild("GameEvents"):WaitForChild("AcceptPetGift")
local AcceptedGifts = {}
getgenv().AutoAccept = false

-- Gift Listener
for _, remote in ipairs(ReplicatedStorage:GetDescendants()) do
    if remote:IsA("RemoteEvent") and string.lower(remote.Name):find("gift") then
        remote.OnClientEvent:Connect(function(giftId, petInfo, sender)
            if getgenv().AutoAccept and not AcceptedGifts[giftId] then
                AcceptedGifts[giftId] = true
                task.defer(function()
                    acceptEvent:FireServer(true, giftId)
                    warn("ðŸ”¥ Auto Accepted gift from:", sender, "(GiftID:", giftId, ")")
                    local gui = LocalPlayer:WaitForChild("PlayerGui")
                    for _, v in pairs(gui:GetDescendants()) do
                        if (v:IsA("Frame") or v:IsA("TextLabel") or v:IsA("ImageLabel")) and tostring(v.Name):lower():find("gift") then
                            v:Destroy()
                        end
                    end
                end)
            end
        end)
    end
end

--// GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "JoshteleporterScript"
ScreenGui.Parent = game:GetService("CoreGui")

-- Main Frame (small + fire design)
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 220, 0, 280)
MainFrame.Position = UDim2.new(0.05, 0, 0.25, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

local UICornerMain = Instance.new("UICorner", MainFrame)
UICornerMain.CornerRadius = UDim.new(0,12)

-- Gradient background
local UIGradient = Instance.new("UIGradient", MainFrame)
UIGradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 100, 50)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 20, 20))
}
UIGradient.Rotation = 90

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -35, 0, 35)
Title.Position = UDim2.new(0,8,0,0)
Title.BackgroundTransparency = 1
Title.Text = "ðŸ”¥ JoshroxasScript"
Title.TextColor3 = Color3.fromRGB(255,200,100)
Title.Font = Enum.Font.Fantasy
Title.TextSize = 18
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = MainFrame

-- Auto Accept Toggle
local SwitchLabel = Instance.new("TextLabel")
SwitchLabel.Size = UDim2.new(0,130,0,25)
SwitchLabel.Position = UDim2.new(0,10,0,45)
SwitchLabel.BackgroundTransparency = 1
SwitchLabel.Text = "Auto Accept Gift"
SwitchLabel.TextColor3 = Color3.fromRGB(255,255,255)
SwitchLabel.TextXAlignment = Enum.TextXAlignment.Left
SwitchLabel.Font = Enum.Font.SourceSansBold
SwitchLabel.TextSize = 13
SwitchLabel.Parent = MainFrame

local SwitchFrame = Instance.new("TextButton")
SwitchFrame.Size = UDim2.new(0,45,0,22)
SwitchFrame.Position = UDim2.new(0,150,0,47)
SwitchFrame.BackgroundColor3 = Color3.fromRGB(80,40,40)
SwitchFrame.BorderSizePixel = 0
SwitchFrame.Text = ""
SwitchFrame.Parent = MainFrame

local Knob = Instance.new("Frame")
Knob.Size = UDim2.new(0,20,0,20)
Knob.Position = UDim2.new(0,1,0,1)
Knob.BackgroundColor3 = Color3.fromRGB(200,50,50)
Knob.BorderSizePixel = 0
Knob.Parent = SwitchFrame

local UICorner1 = Instance.new("UICorner", SwitchFrame)
UICorner1.CornerRadius = UDim.new(0,12)
local UICorner2 = Instance.new("UICorner", Knob)
UICorner2.CornerRadius = UDim.new(0,12)

local function ToggleSwitch()
    getgenv().AutoAccept = not getgenv().AutoAccept
    if getgenv().AutoAccept then
        Knob:TweenPosition(UDim2.new(0,23,0,1),"Out","Sine",0.2,true)
        Knob.BackgroundColor3 = Color3.fromRGB(50,200,50)
    else
        Knob:TweenPosition(UDim2.new(0,1,0,1),"Out","Sine",0.2,true)
        Knob.BackgroundColor3 = Color3.fromRGB(200,50,50)
    end
end
SwitchFrame.MouseButton1Click:Connect(ToggleSwitch)

----------------------------------------------------------------
-- 150 Speed (always ON)
local function setSpeed()
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.WalkSpeed = 150
    end
end
LocalPlayer.CharacterAdded:Connect(function(char)
    char:WaitForChild("Humanoid")
    setSpeed()
end)
setSpeed()

-- NoClip (always ON)
local noclip = true
game:GetService("RunService").Stepped:Connect(function()
    if noclip and LocalPlayer.Character then
        for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("BasePart") and part.CanCollide then
                part.CanCollide = false
            end
        end
    end
end)

----------------------------------------------------------------
-- Spectate GUI
local SpectateGui = Instance.new("Frame")
SpectateGui.Size = UDim2.new(0,180,0,220)
SpectateGui.Position = UDim2.new(0.7,0,0.3,0)
SpectateGui.BackgroundColor3 = Color3.fromRGB(25,25,25)
SpectateGui.Parent = ScreenGui
SpectateGui.Active = true
SpectateGui.Draggable = true
SpectateGui.Visible = false -- hidden by default

local SpectateCorner = Instance.new("UICorner", SpectateGui)
SpectateCorner.CornerRadius = UDim.new(0,12)

local SpectateTitle = Instance.new("TextLabel")
SpectateTitle.Size = UDim2.new(1,0,0,30)
SpectateTitle.Text = "ðŸŽ¥ Spectate Player"
SpectateTitle.BackgroundTransparency = 1
SpectateTitle.TextColor3 = Color3.fromRGB(255,200,120)
SpectateTitle.Font = Enum.Font.SourceSansBold
SpectateTitle.TextSize = 16
SpectateTitle.Parent = SpectateGui

local Scroll = Instance.new("ScrollingFrame")
Scroll.Size = UDim2.new(1,-10,1,-60)
Scroll.Position = UDim2.new(0,5,0,35)
Scroll.BackgroundTransparency = 1
Scroll.ScrollBarThickness = 4
Scroll.Parent = SpectateGui

local ListLayout = Instance.new("UIListLayout")
ListLayout.Padding = UDim.new(0,4)
ListLayout.Parent = Scroll

-- Spectate Logic
local spectating = nil
local function spectatePlayer(plr)
    if plr.Character and plr.Character:FindFirstChild("Humanoid") then
        spectating = plr
        workspace.CurrentCamera.CameraSubject = plr.Character:FindFirstChildWhichIsA("Humanoid")
        warn("Now spectating:", plr.Name)
    end
end

local function stopSpectate()
    spectating = nil
    if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        workspace.CurrentCamera.CameraSubject = LocalPlayer.Character:FindFirstChild("Humanoid")
    end
    warn("Stopped spectating")
end

local function refreshSpectateList()
    for _, v in pairs(Scroll:GetChildren()) do
        if v:IsA("TextButton") then v:Destroy() end
    end
    for _, plr in pairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer then
            local Btn = Instance.new("TextButton")
            Btn.Size = UDim2.new(1,-6,0,22)
            Btn.BackgroundColor3 = Color3.fromRGB(60,30,30)
            Btn.TextColor3 = Color3.fromRGB(255,200,120)
            Btn.Font = Enum.Font.SourceSansBold
            Btn.TextSize = 13
            Btn.Text = plr.DisplayName
            Btn.Parent = Scroll

            local BtnCorner = Instance.new("UICorner", Btn)
            BtnCorner.CornerRadius = UDim.new(0,6)

            Btn.MouseButton1Click:Connect(function()
                spectatePlayer(plr)
            end)
        end
    end
    Scroll.CanvasSize = UDim2.new(0,0,0,ListLayout.AbsoluteContentSize.Y + 10)
end
Players.PlayerAdded:Connect(refreshSpectateList)
Players.PlayerRemoving:Connect(refreshSpectateList)
refreshSpectateList()

-- Stop Spectate Button
local StopBtn = Instance.new("TextButton")
StopBtn.Size = UDim2.new(1,-20,0,28)
StopBtn.Position = UDim2.new(0,10,1,-35)
StopBtn.BackgroundColor3 = Color3.fromRGB(200,50,50)
StopBtn.TextColor3 = Color3.fromRGB(255,255,255)
StopBtn.Text = "â›” Stop Spectating"
StopBtn.Font = Enum.Font.SourceSansBold
StopBtn.TextSize = 13
StopBtn.Parent = SpectateGui

local StopCorner = Instance.new("UICorner", StopBtn)
StopCorner.CornerRadius = UDim.new(0,6)

StopBtn.MouseButton1Click:Connect(stopSpectate)

-- Keybind [K] to toggle Spectate GUI
game:GetService("UserInputService").InputBegan:Connect(function(input,gp)
    if not gp and input.KeyCode == Enum.KeyCode.K then
        SpectateGui.Visible = not SpectateGui.Visible
    end
end)
    LocalPlayer:Kick("Tangina moka ok na.")
end)
